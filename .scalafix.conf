# Scalafix configuration for spark-pipeline-framework
#
# RESPONSIBILITY: Semantic linting and refactoring
# - Unused imports, variables, private members
# - Dangerous syntax patterns
# - Semantic code issues that require type information
#
# DEFERS TO:
# - Scalafmt: Formatting, import ordering (don't use OrganizeImports here)
# - Scalastyle: Naming conventions, method length, complexity
#
# Run: sbt "scalafixAll" or sbt "scalafix RemoveUnused"
# Check: sbt "scalafixAll --check"

rules = [
  # Remove unused imports, local variables, and private members
  # This is semantic analysis - more accurate than text-based tools
  RemoveUnused

  # Catch implicit class value leaks (common Scala pitfall)
  LeakingImplicitClassVal
]

# RemoveUnused configuration
RemoveUnused {
  # Remove unused imports (Scalafix owns this - semantic analysis)
  imports = true

  # Remove unused private members
  privates = true

  # Remove unused local variables
  locals = true

  # Remove unused pattern variables (e.g., case Foo(unused) =>)
  patternvars = true

  # Don't remove unused parameters - can break API compatibility
  params = false
}

# =============================================================================
# DISABLED RULES - Handled by other tools or too strict for Spark
# =============================================================================

# OrganizeImports - DISABLED: Scalafmt handles import ordering
# We use scalafmt's rewrite.imports.sort = scalastyle instead

# DisableSyntax - DISABLED: Too strict for Spark interop
# Spark APIs often require null, var, and other patterns
# DisableSyntax {
#   noNulls = true
#   noVars = true
#   noThrows = true
#   noReturns = true
# }

# NoAutoTupling - DISABLED: Can be noisy with Spark's tuple-heavy APIs
# Consider enabling if you want stricter tuple handling
