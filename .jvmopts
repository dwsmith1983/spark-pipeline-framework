# JVM options for sbt
# These options are read by the sbt launcher

# Memory settings - adequate for Spark project compilation
-Xms1G
-Xmx4G
-Xss4M

# Metaspace for class metadata (important for Scala compilation)
-XX:MaxMetaspaceSize=1G

# G1GC - recommended for build tools on Java 17+
-XX:+UseG1GC
-XX:G1HeapRegionSize=16M
-XX:+UseStringDeduplication

# GC logging (optional - uncomment for debugging)
# -Xlog:gc*:file=gc.log:time,uptime:filecount=5,filesize=10m

# Compilation and class loading optimizations
-XX:+UseCompressedOops
-XX:+OptimizeStringConcat
-XX:ReservedCodeCacheSize=512M

# Java 17+ specific options
--add-opens=java.base/java.lang=ALL-UNNAMED
--add-opens=java.base/java.lang.invoke=ALL-UNNAMED
--add-opens=java.base/java.lang.reflect=ALL-UNNAMED
--add-opens=java.base/java.io=ALL-UNNAMED
--add-opens=java.base/java.net=ALL-UNNAMED
--add-opens=java.base/java.nio=ALL-UNNAMED
--add-opens=java.base/java.util=ALL-UNNAMED
--add-opens=java.base/java.util.concurrent=ALL-UNNAMED
--add-opens=java.base/java.util.concurrent.atomic=ALL-UNNAMED
--add-opens=java.base/sun.nio.ch=ALL-UNNAMED
--add-opens=java.base/sun.nio.cs=ALL-UNNAMED
--add-opens=java.base/sun.security.action=ALL-UNNAMED
--add-opens=java.base/sun.util.calendar=ALL-UNNAMED

# File encoding
-Dfile.encoding=UTF-8
-Dsun.jnu.encoding=UTF-8
